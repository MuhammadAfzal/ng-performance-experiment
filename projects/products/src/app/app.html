<div class="p-8">
  <h1 class="text-3xl font-bold mb-4">Products (Unperformant Version)</h1>

  <button (click)="triggerRefresh()" class="mb-6 px-4 py-2 bg-red-600 text-white rounded shadow">
    Trigger Change Detection
  </button>

  <div class="grid grid-cols-1 gap-2">
    @for (id of productIds; track id) {
    <div class="p-3 border rounded bg-gray-50 flex justify-between">
      <span class="font-medium">Product #{{ id }}</span>
      <!-- THE BOTTLENECK: Function call inside @for -->
      <span class="text-blue-600 font-bold"> Value: {{ getCalculatedValue(id) }} </span>
    </div>
    }
  </div>
</div>
